<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Estudos Dinâmico - CTFL (Detalhado)</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
            color: #212529;
        }

        .stepper-item {
            position: relative;
            padding-left: 40px;
            padding-bottom: 24px;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        .stepper-item:not(.active) {
            opacity: 0.7;
        }

        .stepper-item:hover:not(.active) {
            opacity: 1;
        }

        .stepper-item::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 11px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background-color: #e9ecef;
            border: 3px solid #ced4da;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .stepper-item.completed::before {
            background-color: #198754;
            border-color: #198754;
        }

        .stepper-item.active::before {
            border-color: #0d6efd;
            transform: scale(1.2);
        }

        .stepper-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 19px;
            top: 29px;
            width: 2px;
            height: 100%;
            background-color: #dee2e6;
        }

        #content-panel > div {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .progress-bar-inner {
            transition: width 0.5s ease-in-out;
        }

        .topic-card {
            background-color: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05);
        }

        .topic-card h4 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
        }

        .topic-card p, .topic-card ul {
            margin-top: 0.75rem;
            color: #4b5563;
            line-height: 1.6;
        }

        .topic-card ul {
            list-style-type: disc;
            padding-left: 1.5rem;
        }
       .topic-card ul ul {
            list-style-type: circle;
            margin-top: 0.5rem;
        }
        .topic-card .action-box {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f9fafb;
            border: 1px dashed #d1d5db;
            border-radius: 0.5rem;
        }
        .topic-card .action-box h5 {
            font-weight: 600;
            color: #374151;
        }

    </style>
</head>
<body class="antialiased">

<div class="max-w-screen-xl mx-auto p-4 md:p-6 lg:p-8">

    <header class="mb-8 text-center">
        <h1 class="text-4xl lg:text-5xl font-extrabold text-gray-800">Seu Roteiro Detalhado para a Certificação CTFL</h1>
        <p class="text-lg text-gray-600 mt-2">Um plano de estudos interativo e aprofundado para guiar sua jornada</p>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
        <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-700 mb-4">Seu Progresso</h2>
            <div class="w-full bg-gray-200 rounded-full h-8">
                <div id="progress-bar-inner" class="progress-bar-inner bg-gradient-to-r from-blue-500 to-teal-400 h-8 rounded-full flex items-center justify-center text-white font-bold">
                    0%
                </div>
            </div>
            <p class="text-sm text-gray-500 mt-2 text-center">Marque os dias como concluídos para ver seu progresso!</p>
        </div>
        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200 flex items-center justify-center">
            <div class="w-full h-64 lg:h-full">
                <canvas id="focusChart"></canvas>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
        <aside class="lg:col-span-1 bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
            <h3 class="text-xl font-bold text-gray-700 mb-6">Etapas do Plano</h3>
            <nav id="timeline-nav"></nav>
        </aside>

        <main id="content-panel" class="lg:col-span-3 bg-white p-6 md:p-8 rounded-2xl shadow-sm border border-gray-200 min-h-[500px]"></main>
    </div>
</div>

<script>
const studyPlanData = {
    chapters: {
        "1": "Fundamentos",
        "2": "Teste no Ciclo de Vida",
        "3": "Teste Estático",
        "4": "Técnicas de Teste",
        "5": "Gerenciamento de Teste",
        "6": "Ferramentas de Teste"
    },
    days: [
        {
            dia: 1,
            titulo: "Os Alicerces do Teste",
            capitulos: ["1"],
            tipo: "conteudo",
            topicos: [
                {
                    titulo: "O Que é Teste?",
                    desc: `
                        <p>Identificar objetivos típicos de teste e diferenciar teste de depuração. Foco em Verificação vs. Validação e os 9 objetivos principais.</p>
                        <ul>
                            <li><strong>Objetivos de Aprendizagem:</strong> FL-1.1.1 (K1) e FL-1.1.2 (K2).</li>
                            <li><strong>Explicação:</strong> Teste é um conjunto de atividades para descobrir defeitos e avaliar a qualidade. Qualidade abrange funcionalidade, segurança, desempenho e usabilidade. Não é apenas executar o software, mas um processo que inclui planejamento, análise, execução e relatórios.
                                <ul>
                                    <li><strong>Verificação:</strong> "Estamos construindo o produto certo?" (conforme as especificações).</li>
                                    <li><strong>Validação:</strong> "Estamos construindo o produto certo para o usuário?" (atende às necessidades reais).</li>
                                </ul>
                            </li>
                            <li><strong>Teste vs. Depuração:</strong> Teste encontra defeitos; depuração (geralmente feita por desenvolvedores) analisa e remove a causa do defeito.</li>
                            <li class="action-box">
                                <h5>Ação:</h5>
                                <p>Pense em um aplicativo que você usa. Escolha 3 objetivos de teste e explique como se aplicariam a ele. Crie um cenário que diferencie o papel do testador e do desenvolvedor na depuração de uma falha.</p>
                            </li>
                        </ul>
                    `
                },
                {
                    titulo: "Por Que os Testes São Necessários?",
                    desc: `
                        <p>Compreender o impacto das falhas de software e a relação entre Teste, QC e QA. Distinguir entre Erro, Defeito, Falha e Causa Raiz.</p>
                        <ul>
                            <li><strong>Objetivos de Aprendizagem:</strong> FL-1.2.1 (K2), FL-1.2.2 (K1), FL-1.2.3 (K2).</li>
                            <li><strong>Impacto:</strong> Falhas podem causar perdas financeiras, de tempo, danos à reputação e, em casos extremos, lesões ou morte. Testes reduzem esses riscos.</li>
                            <li><strong>QA vs. QC vs. Teste:</strong>
                                <ul>
                                    <li><strong>QA (Garantia da Qualidade):</strong> Focado em PROCESSOS para prevenir defeitos.</li>
                                    <li><strong>QC (Controle de Qualidade):</strong> Focado no PRODUTO para detectar defeitos. O Teste é a principal atividade de QC.</li>
                                </ul>
                            </li>
                            <li><strong>Anatomia de um Problema:</strong> Causa Raiz → Erro (humano) → Defeito (no código/documento) → Falha (manifestação visível).</li>
                             <li class="action-box">
                                <h5>Ação:</h5>
                                <p>Crie seu próprio cenário que ilustre a sequência: Causa Raiz → Erro → Defeito → Falha. (Ex: Requisito ambíguo leva a um erro de lógica do programador, que gera um defeito no código, resultando em uma falha de cálculo para o usuário).</p>
                            </li>
                        </ul>
                    `
                },
                {
                    titulo: "Sete Princípios de Teste",
                    desc: `
                        <p>Internalizar as 7 leis universais que guiam toda a atividade de teste.</p>
                        <ul>
                            <li><strong>Objetivo de Aprendizagem:</strong> FL-1.3.1 (K2).</li>
                            <li><strong>Os 7 Princípios:</strong>
                                <ol class="list-decimal pl-5">
                                    <li>Teste mostra a presença de defeitos, não a ausência.</li>
                                    <li>Testes exaustivos são impossíveis.</li>
                                    <li>Testes antecipados economizam tempo e dinheiro (Shift-Left).</li>
                                    <li>Defeitos se agrupam (Clustering).</li>
                                    <li>Testes se degradam (Paradoxo do Pesticida).</li>
                                    <li>Testes dependem do contexto.</li>
                                    <li>Falácia da ausência de defeitos.</li>
                                </ol>
                            </li>
                             <li class="action-box">
                                <h5>Ação:</h5>
                                <p>Para cada um dos 7 princípios, reescreva-o com suas próprias palavras e pense em uma analogia da vida real que o ilustre.</p>
                            </li>
                        </ul>
                    `
                }
            ]
        },
        {
            dia: 2,
            titulo: "A Mão na Massa e a Dança com o Desenvolvimento",
            capitulos: ["1", "2"],
            tipo: "conteudo",
            topicos: [
                {
                    titulo: "Atividades, Testware e Papéis",
                    desc: `
                        <p>Entender o processo de teste (Planejamento, Análise, Modelagem, Execução, etc.), o que é 'testware' e os papéis de Gerente de Teste e Testador.</p>
                        <ul>
                            <li><strong>Atividades de Teste:</strong> Planejamento, Monitoramento e Controle, Análise, Modelagem, Implementação, Execução e Conclusão.</li>
                            <li><strong>Testware:</strong> Artefatos produzidos para o teste, como Planos de Teste, Casos de Teste, Scripts, Relatórios de Defeitos, etc.</li>
                            <li><strong>Rastreabilidade:</strong> Capacidade de conectar requisitos a casos de teste e a defeitos, garantindo cobertura e análise de impacto.</li>
                            <li><strong>Papéis:</strong> Gerente de Teste (lidera, planeja, gerencia) e Testador (analisa, modela, executa).</li>
                        </ul>
                    `
                },
                {
                    titulo: "Habilidades e Boas Práticas",
                    desc: `
                        <p>Reconhecer as habilidades de um testador e os prós e contras da independência dos testes vs. abordagem de equipe completa.</p>
                        <ul>
                            <li><strong>Habilidades Essenciais:</strong> Curiosidade, pensamento crítico, atenção aos detalhes, boa comunicação, conhecimento do negócio e técnico.</li>
                            <li><strong>Abordagem de Equipe Completa (Whole Team Approach):</strong> A qualidade é responsabilidade de todos no time (comum em Ágil).</li>
                            <li><strong>Independência dos Testes:</strong> Testes feitos por alguém que não desenvolveu o software.
                                <ul>
                                    <li><strong>Benefícios:</strong> Encontra mais defeitos por não ter os mesmos "pontos cegos" (bias cognitivo) do desenvolvedor.</li>
                                    <li><strong>Desvantagens:</strong> Pode criar isolamento, gargalos e um sentimento de "nós contra eles".</li>
                                </ul>
                            </li>
                        </ul>
                    `
                },
                {
                    titulo: "Testes no Contexto do SDLC",
                    desc: `
                        <p>Analisar como os testes se encaixam em modelos Sequenciais e Iterativos, e introduzir abordagens 'Test-First' como TDD, ATDD e BDD.</p>
                        <ul>
                            <li><strong>SDLC:</strong> A escolha do ciclo de vida de desenvolvimento (Cascata, Ágil) impacta quando e como testamos.</li>
                            <li><strong>Abordagens "Test-First":</strong>
                                <ul>
                                    <li><strong>TDD (Test-Driven Development):</strong> O teste de unidade é escrito ANTES do código de produção.</li>
                                    <li><strong>ATDD (Acceptance Test-Driven Development):</strong> O time colabora para criar testes de aceite ANTES da implementação.</li>
                                    <li><strong>BDD (Behavior-Driven Development):</strong> Usa uma linguagem natural (Given/When/Then) para descrever o comportamento, facilitando a colaboração e automação.</li>
                                </ul>
                            </li>
                            <li><strong>DevOps:</strong> Foco em Integração Contínua (CI) e Entrega/Implantação Contínua (CD), exigindo muita automação de testes para feedback rápido.</li>
                             <li class="action-box">
                                <h5>Ação:</h5>
                                <p>Compare o papel do testador em um modelo Cascata vs. um projeto Ágil que usa TDD e CI/CD. Liste 3 benefícios de usar ATDD.</p>
                            </li>
                        </ul>
                    `
                }
            ]
        },
        {
            dia: 3,
            titulo: "Níveis e Tipos de Teste",
            capitulos: ["2", "3"],
            tipo: "conteudo",
            topicos: [
                {
                    titulo: "Shift-Left e Retrospectivas",
                    desc: `
                        <p>Aprofundar no conceito de 'Shift-Left' para encontrar defeitos mais cedo e como usar retrospectivas para melhoria contínua.</p>
                        <ul>
                            <li><strong>Shift-Left:</strong> Começar as atividades de teste o mais cedo possível no ciclo de vida. É a aplicação prática do princípio "Testes Antecipados", reduzindo drasticamente o custo de correção de defeitos.</li>
                            <li><strong>Retrospectivas:</strong> Reuniões para o time refletir sobre o que funcionou, o que não funcionou e como melhorar os processos, incluindo os de teste.</li>
                        </ul>
                    `
                },
                {
                    titulo: "Níveis vs. Tipos de Teste",
                    desc: `
                        <p>Distinguir os 4 Níveis (Componente, Integração, Sistema, Aceite) dos Tipos de Teste (Funcional, Não Funcional, Caixa-Branca, Caixa-Preta).</p>
                        <ul>
                            <li><strong>Níveis de Teste (Onde/Quando testamos):</strong>
                                <ol class="list-decimal pl-5">
                                    <li><strong>Componente (Unidade):</strong> Testa a menor parte do código.</li>
                                    <li><strong>Integração:</strong> Testa a interação entre componentes ou sistemas.</li>
                                    <li><strong>Sistema:</strong> Testa o sistema completo contra os requisitos.</li>
                                    <li><strong>Aceite:</strong> Valida se o sistema atende às necessidades do negócio e do usuário (UAT, Alfa, Beta).</li>
                                </ol>
                            </li>
                             <li><strong>Tipos de Teste (O que/Como focamos):</strong>
                                <ul class="list-disc pl-5">
                                    <li><strong>Funcional:</strong> O que o sistema faz.</li>
                                    <li><strong>Não Funcional:</strong> Como o sistema funciona (performance, usabilidade, segurança).</li>
                                    <li><strong>Caixa-Branca:</strong> Baseado na estrutura interna (código).</li>
                                    <li><strong>Caixa-Preta:</strong> Baseado nos requisitos, sem ver o código.</li>
                                </ul>
                            </li>
                            <li class="action-box">
                                <h5>Ação:</h5>
                                <p>Escolha um nível de teste (ex: Teste de Sistema) e liste 3 tipos de teste que seriam relevantes para ele. Isso ajuda a solidificar a diferença.</p>
                            </li>
                        </ul>
                    `
                },
                {
                    titulo: "Confirmação, Regressão e Manutenção",
                    desc: `
                        <p>Entender a diferença crucial entre Teste de Confirmação (re-teste) e Teste de Regressão, e os gatilhos para Teste de Manutenção.</p>
                        <ul>
                            <li><strong>Teste de Confirmação (Re-teste):</strong> Verifica se uma correção de defeito <strong>realmente resolveu</strong> o problema original.</li>
                            <li><strong>Teste de Regressão:</strong> Garante que as mudanças (correções ou novas features) <strong>não introduziram novos defeitos</strong> em partes que antes funcionavam. É ideal para automação.</li>
                            <li><strong>Teste de Manutenção:</strong> Ocorre após o lançamento, acionado por modificações (corretivas, adaptativas, melhorias), migrações ou desativação do sistema.</li>
                        </ul>
                    `
                }
            ]
        },
        {
            dia: 4,
            titulo: "Teste Estático e Modelagem Caixa-Preta",
            capitulos: ["3", "4"],
            tipo: "conteudo",
            topicos: [
                {
                    titulo: "Fundamentos do Teste Estático",
                    desc: `
                        <p>Compreender o valor de encontrar defeitos sem executar o código, através de Revisões e Análise Estática.</p>
                        <ul>
                            <li><strong>Valor:</strong> Detecção antecipada (mais barato), prevenção de defeitos, melhora da qualidade e compreensão, encontra o que o teste dinâmico não pega (ex: código morto).</li>
                            <li><strong>Estático vs. Dinâmico:</strong> Estático analisa artefatos (código, docs) sem execução; Dinâmico executa o software para observar falhas.</li>
                        </ul>
                    `
                },
                {
                    titulo: "Processo de Revisão",
                    desc: `
                        <p>Aprender as atividades de um processo de revisão e os diferentes tipos (Informal, Walkthrough, Revisão Técnica, Inspeção).</p>
                        <ul>
                            <li><strong>Processo:</strong> Planejamento → Início → Preparação Individual → Reunião → Retrabalho → Acompanhamento.</li>
                            <li><strong>Tipos (do menos ao mais formal):</strong>
                                <ol class="list-decimal pl-5">
                                    <li><strong>Revisão Informal:</strong> Um colega dá uma olhada rápida.</li>
                                    <li><strong>Walkthrough:</strong> Autor apresenta o documento para obter feedback.</li>
                                    <li><strong>Revisão Técnica:</strong> Focada em consenso sobre soluções técnicas.</li>
                                    <li><strong>Inspeção:</strong> A mais formal, com papéis definidos e métricas, para encontrar o máximo de defeitos.</li>
                                </ol>
                            </li>
                        </ul>
                    `
                },
                {
                    titulo: "Técnicas Caixa-Preta: EP e BVA",
                    desc: `
                        <p>Aprender Particionamento de Equivalência e Análise de Valor Limite para selecionar dados de teste eficazes.</p>
                        <ul>
                            <li><strong>Particionamento de Equivalência (EP):</strong> Divide as entradas em grupos (partições) onde o sistema deve se comportar da mesma forma. Testa-se um valor de cada partição (válida e inválida).</li>
                            <li><strong>Análise de Valor Limite (BVA):</strong> Complementa o EP, focando em testar os valores nos limites e adjacentes aos limites das partições, onde os erros são mais comuns.</li>
                            <li class="action-box">
                                <h5>Ação Prática Intensa:</h5>
                                <p>Para um campo "Quantidade de Itens" (permitido de 1 a 10), identifique as partições de equivalência, derive casos de teste com EP, e depois derive casos de teste usando BVA de 2 e 3 valores. Compare os resultados.</p>
                            </li>
                        </ul>
                    `
                }
            ]
        },
        {
            dia: 5,
            titulo: "Aprofundando em Técnicas",
            capitulos: ["4"],
            tipo: "conteudo",
            topicos: [
                {
                    titulo: "Tabela de Decisão",
                    desc: `
                        <p>Usar tabelas para modelar e testar regras de negócio complexas com múltiplas condições.</p>
                        <ul>
                            <li><strong>Quando Usar:</strong> Quando o comportamento depende de uma combinação de múltiplas condições (vários "SEs").</li>
                            <li><strong>Como Construir:</strong> Identifique condições (linhas de cima) e ações (linhas de baixo). Cada coluna é uma regra (combinação de condições) que leva a certas ações.</li>
                            <li><strong>Vantagem:</strong> Garante que todas as combinações de regras de negócio sejam testadas sistematicamente.</li>
                             <li class="action-box">
                                <h5>Ação Prática:</h5>
                                <p>Crie uma tabela de decisão para um sistema de aprovação de empréstimo com 3 condições (renda, score de crédito, empréstimos ativos) e 3 ações possíveis (Aprovar, Rejeitar, Análise Manual).</p>
                            </li>
                        </ul>
                    `
                },
                {
                    titulo: "Teste de Transição de Estado",
                    desc: `
                        <p>Modelar e testar sistemas que possuem diferentes estados e mudam entre eles com base em eventos.</p>
                        <ul>
                            <li><strong>Quando Usar:</strong> Para testar fluxos de trabalho, máquinas de estado, status de objetos (ex: status de um pedido em um e-commerce).</li>
                            <li><strong>Componentes:</strong> Estados, Eventos (gatilhos), Transições (mudanças de estado) e Ações.</li>
                            <li><strong>Modelagem:</strong> Usa um diagrama de transição de estado (visual) ou uma tabela de transição (tabular).</li>
                            <li><strong>Cobertura:</strong> Casos de teste são sequências de eventos para cobrir todos os estados ou, mais forte, todas as transições válidas.</li>
                        </ul>
                    `
                },
                {
                    titulo: "Técnicas Caixa-Branca",
                    desc: `
                        <p>Entender conceitualmente Cobertura de Instrução (Statement) e Cobertura de Ramificação (Branch/Decision).</p>
                        <ul>
                            <li><strong>Cobertura de Instrução (Statement):</strong> Meta é executar cada linha de código executável pelo menos uma vez.</li>
                            <li><strong>Cobertura de Ramificação (Branch/Decision):</strong> Meta é executar cada resultado possível de cada ponto de decisão (ex: o caminho VERDADEIRO e o FALSO de um IF). É mais rigorosa que a cobertura de instrução.</li>
                            <li><strong>Valor:</strong> Mede objetivamente o quão completamente o código foi exercitado, ajudando a encontrar código "morto" e falhas lógicas.</li>
                        </ul>
                    `
                }
            ]
        },
        {
            dia: 6,
            titulo: "Intuição, Colaboração e Gerenciamento",
            capitulos: ["4", "5"],
            tipo: "conteudo",
            topicos: [
                {
                    titulo: "Técnicas Baseadas na Experiência",
                    desc: `
                        <p>Explorar Suposição de Erros, Teste Exploratório e Teste Baseado em Checklist.</p>
                        <ul>
                            <li><strong>Suposição de Erros (Error Guessing):</strong> Usar a intuição e experiência para "adivinhar" onde os erros provavelmente ocorrerão (ex: divisão por zero, campos vazios).</li>
                            <li><strong>Teste Exploratório:</strong> Processo dinâmico de aprendizado, projeto e execução de testes simultaneamente. Frequentemente estruturado com Cartas de Teste (Test Charters) em sessões de tempo fixo.</li>
                            <li><strong>Teste Baseado em Checklist:</strong> Usar uma lista predefinida de itens para guiar o teste de forma sistemática.</li>
                        </ul>
                    `
                },
                {
                    titulo: "Abordagens Colaborativas",
                    desc: `
                        <p>Aprender sobre Histórias de Usuário, Critérios de Aceite (Given/When/Then) e ATDD.</p>
                        <ul>
                           <li><strong>História de Usuário:</strong> Descrição de uma funcionalidade na perspectiva do usuário. Guiada pelos 3 C's: Cartão, Conversação e Confirmação.</li>
                           <li><strong>Critérios de Aceite (AC):</strong> As condições que uma história deve satisfazer para ser considerada "pronta". Frequentemente escritos no formato Given/When/Then (BDD).</li>
                           <li><strong>ATDD (Acceptance Test-Driven Development):</strong> Prática colaborativa de definir os testes de aceite (baseados nos ACs) ANTES do código ser implementado, guiando o desenvolvimento.</li>
                            <li class="action-box">
                                <h5>Ação:</h5>
                                <p>Para a história "Como um cliente, eu quero adicionar um item à minha lista de desejos", escreva 2-3 Critérios de Aceite no formato Given/When/Then.</p>
                            </li>
                        </ul>
                    `
                },
                {
                    titulo: "Planejamento de Teste",
                    desc: `
                        <p>Introduzir o Plano de Teste e a diferença entre Critérios de Entrada e Critérios de Saída.</p>
                        <ul>
                           <li><strong>Plano de Teste:</strong> Documento que guia o esforço de teste, definindo o que, como, quando e por quem será testado.</li>
                           <li><strong>Critérios de Entrada:</strong> Pré-condições que devem ser atendidas para que uma fase de teste possa <strong>começar</strong> (ex: ambiente pronto, build estável).</li>
                           <li><strong>Critérios de Saída:</strong> Condições que definem quando uma fase de teste está <strong>concluída</strong> (ex: X% de cobertura alcançada, nenhum defeito crítico em aberto).</li>
                        </ul>
                    `
                }
            ]
        },
        {
            dia: 7,
            titulo: "Dominando Gerenciamento e Ferramentas",
            capitulos: ["5", "6"],
            tipo: "conteudo",
            topicos: [
                {
                    titulo: "Estimativa e Priorização",
                    desc: `
                        <p>Aprender técnicas de estimativa (Planning Poker) e modelos visuais como a Pirâmide de Teste e os Quadrantes de Teste.</p>
                        <ul>
                            <li><strong>Estimativa:</strong> Técnicas como Planning Poker (Ágil) ou baseadas em métricas para prever o esforço de teste.</li>
                            <li><strong>Priorização:</strong> Ordenar a execução de testes com base em risco, cobertura ou prioridade de requisitos.</li>
                            <li><strong>Pirâmide de Teste:</strong> Modelo que prega muitos testes de unidade (rápidos), alguns de integração/API e poucos de UI (lentos/frágeis).</li>
                            <li><strong>Quadrantes de Teste:</strong> Modelo que ajuda a pensar em uma abordagem de teste abrangente, classificando testes em 4 quadrantes (Apoia o Time vs. Critica o Produto; Foco em Tecnologia vs. Negócio).</li>
                        </ul>
                    `
                },
                {
                    titulo: "Gerenciamento de Riscos e Monitoramento",
                    desc: `
                        <p>Diferenciar riscos de projeto e de produto, usar a análise de risco para guiar testes e métricas para monitorar o progresso.</p>
                        <ul>
                            <li><strong>Risco de Produto:</strong> Risco de falha no software (qualidade). <strong>TESTE</strong> é a principal forma de mitigar esse risco.</li>
                            <li><strong>Risco de Projeto:</strong> Risco de problemas no gerenciamento do projeto (prazos, recursos).</li>
                            <li><strong>Monitoramento:</strong> Coletar métricas para acompanhar o progresso (ex: % de casos executados, nº de defeitos abertos).</li>
                            <li><strong>Relatórios:</strong> Relatório de Progresso (durante) e Relatório de Conclusão (ao final) para comunicar o status aos stakeholders.</li>
                        </ul>
                    `
                },
                {
                    titulo: "Gerenciamento de Defeitos e Ferramentas",
                    desc: `
                        <p>Entender o ciclo de vida de um defeito (Severidade vs. Prioridade) e as categorias de ferramentas de teste.</p>
                        <ul>
                            <li><strong>Relatório de Defeito:</strong> Documento com Título, Passos para Reproduzir, Resultado Esperado vs. Atual, Ambiente, etc.</li>
                            <li><strong>Severidade vs. Prioridade:</strong>
                                <ul>
                                    <li><strong>Severidade:</strong> O impacto do defeito no software.</li>
                                    <li><strong>Prioridade:</strong> A urgência em corrigir o defeito.</li>
                                </ul>
                            </li>
                            <li><strong>Ferramentas de Teste:</strong> Categorias incluem Gerenciamento de Teste (Jira, TestRail), Automação Funcional (Selenium), Performance (JMeter), Análise Estática (SonarQube), etc.</li>
                        </ul>
                    `
                }
            ]
        },
        {
            dia: "R1",
            titulo: "Revisão e Prática 1",
            capitulos: ["1", "2", "3", "4"],
            tipo: "revisao",
            topicos: [
                {
                    titulo: "Revisão dos Alicerces",
                    desc: "<p>Passar por todos os conceitos fundamentais dos Capítulos 1, 2 e 3. Foque em solidificar os 7 Princípios, a diferença entre Níveis e Tipos de teste, e o processo de Revisão.</p>"
                },
                {
                    titulo: "Prática Intensiva de Técnicas",
                    desc: "<p>Focar em resolver exercícios práticos de Particionamento de Equivalência (EP), Análise de Valor Limite (BVA), Tabela de Decisão e Teste de Transição de Estado. Esta é a parte mais prática da prova.</p>"
                },
                {
                    titulo: "Simulado Parcial",
                    desc: "<p>Fazer um mini simulado com questões focadas nos capítulos 1-4 para identificar pontos fracos. Analise cada erro para entender a lacuna no conhecimento.</p>"
                }
            ]
        },
        {
            dia: "R2",
            titulo: "Revisão e Prática 2",
            capitulos: ["5", "6"],
            tipo: "revisao",
            topicos: [
                {
                    titulo: "Revisão de Gerenciamento e Ferramentas",
                    desc: "<p>Solidificar os conceitos dos Capítulos 5 e 6. Entenda bem o gerenciamento de riscos, a diferença entre severidade e prioridade, a Pirâmide de Teste, os Quadrantes e os benefícios/riscos da automação.</p>"
                },
                {
                    titulo: "Simulado Completo e Análise",
                    desc: "<p>Realizar um simulado completo de 40 questões no tempo oficial. Corrigir cada questão, entendendo profundamente por que você acertou ou errou. A análise dos erros é a parte mais importante do estudo nesta fase.</p>"
                }
            ]
        }
    ]
};

document.addEventListener('DOMContentLoaded', () => {
    const timelineNav = document.getElementById('timeline-nav');
    const contentPanel = document.getElementById('content-panel');
    let completedDays = JSON.parse(localStorage.getItem('completedDaysDetailed')) || [];
    let activeDayIndex = 0;

    const renderTimeline = () => {
        timelineNav.innerHTML = '';
        studyPlanData.days.forEach((day, index) => {
            const isCompleted = completedDays.includes(index);
            const isActive = index === activeDayIndex;

            const stepperItem = document.createElement('div');
            stepperItem.className = `stepper-item ${isCompleted ? 'completed' : ''} ${isActive ? 'active' : ''}`;
            stepperItem.dataset.index = index;

            const dayLabel = day.tipo === 'revisao'
                ? `<span class="text-xs font-bold py-1 px-2 rounded-full bg-green-100 text-green-700">REVISÃO</span>`
                : `<span class="text-xs font-bold py-1 px-2 rounded-full bg-blue-100 text-blue-700">DIA ${day.dia}</span>`;

            stepperItem.innerHTML = `
                <div class="flex items-center justify-between">
                    <div class="flex-grow">
                        ${dayLabel}
                        <h4 class="font-bold text-gray-800 mt-1">${day.titulo}</h4>
                    </div>
                </div>
            `;
            stepperItem.addEventListener('click', () => {
                activeDayIndex = index;
                renderAll();
            });
            timelineNav.appendChild(stepperItem);
        });
    };

    const renderContent = () => {
        const day = studyPlanData.days[activeDayIndex];
        const isCompleted = completedDays.includes(activeDayIndex);

        let buttonText = isCompleted ? "Desmarcar Conclusão" : "Marcar como Concluído";
        let buttonClass = isCompleted ? "bg-gray-500 hover:bg-gray-600" : "bg-green-500 hover:bg-green-600";
        let buttonIcon = isCompleted ? "x-circle" : "check-circle";

        contentPanel.innerHTML = `
            <div>
                <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
                    <div>
                        <p class="text-sm font-semibold uppercase tracking-wider text-blue-600">Foco: Capítulo(s) ${day.capitulos.join(', ')}</p>
                        <h2 class="text-3xl lg:text-4xl font-extrabold text-gray-800 mt-1">${day.tipo === 'revisao' ? '' : `Dia ${day.dia}: `}${day.titulo}</h2>
                    </div>
                    <button id="complete-day-btn" class="mt-4 md:mt-0 flex-shrink-0 flex items-center gap-2 ${buttonClass} text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all duration-300">
                        <i data-feather="${buttonIcon}" class="w-5 h-5"></i>
                        <span>${buttonText}</span>
                    </button>
                </div>
                <div class="space-y-4">
                    ${day.topicos.map(topic => `
                        <div class="topic-card">
                            <h4 class="font-bold text-lg text-gray-700">${topic.titulo}</h4>
                            <div class="text-gray-600 mt-2 leading-relaxed">${topic.desc}</div>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;

        document.getElementById('complete-day-btn').addEventListener('click', () => {
            if (!completedDays.includes(activeDayIndex)) {
                completedDays.push(activeDayIndex);
            } else {
                completedDays = completedDays.filter(i => i !== activeDayIndex);
            }
            localStorage.setItem('completedDaysDetailed', JSON.stringify(completedDays));
            renderAll();
        });

        feather.replace();
    };

    const updateProgressBar = () => {
        const percentage = Math.round((completedDays.length / studyPlanData.days.length) * 100);
        const progressBarInner = document.getElementById('progress-bar-inner');
        progressBarInner.style.width = `${percentage}%`;
        progressBarInner.textContent = `${percentage}%`;
    };

    const renderChart = () => {
        const ctx = document.getElementById('focusChart').getContext('2d');
        const chapterCounts = {};

        studyPlanData.days.forEach(day => {
            day.capitulos.forEach(cap => {
                chapterCounts[cap] = (chapterCounts[cap] || 0) + 1;
            });
        });

        const labels = Object.keys(chapterCounts).map(key => `Cap. ${key}: ${studyPlanData.chapters[key]}`);
        const data = Object.values(chapterCounts);

        if (window.myFocusChart) {
            window.myFocusChart.destroy();
        }

        window.myFocusChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Foco por Capítulo',
                    data: data,
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(54, 162, 235, 1)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgba(54, 162, 235, 1)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    r: {
                        angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                        grid: { color: 'rgba(0, 0, 0, 0.1)' },
                        pointLabels: { font: { size: 11, weight: 'bold' }, color: '#495057' },
                        ticks: { backdropColor: 'transparent', stepSize: 1 }
                    }
                }
            }
        });
    };

    const renderAll = () => {
        updateProgressBar();
        renderTimeline();
        renderContent();
        if(!window.myFocusChart) { // Render chart only once initially
             renderChart();
        }
    };

    renderAll();
});
</script>

</body>
</html>
